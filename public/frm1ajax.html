<!DOCTYPE html>
<html>
	<head>
		<title>without form reload</title>
	
	</head>

	<body>
		<form action="/users" method="POST">
		
			
			<p>FirstName<input type ="text" name="fname"><br></p>

			
			<p>LastName<input type ="text" name="lname"><br></p>
 
			<button>Click me!</button>

		</form>

		<div id="mydiv">

		</div>

		 <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

		<script type="text/javascript" src="javascripts/script.js"></script>

		<script>

		$(document).ready(function(){
			console.log("hiii");
			
			$.ajax({
				url:"/users/",
				type:"get",
				success:function(data){
				console.log(data);
				for( i=0;i<data.length;i++){
					$("#mydiv").append("my data is" + data[i].fname + " lastname is " + data[i].lname  + " id is " + data[i].id + "<br />");
					}
				}
			})
			
			$("button").click(function(event){
				event.preventDefault();
				var fname = $("input[name='fname']").val();
				var lname = $("input[name='lname']").val();
				//console.log(fname);
			
				$.ajax({
					url:"/users",
					type:"Post",
					data:{
						fname,
						lname,
					},
					success:function(data){
						$("#mydiv").append("My firstname is "+ data.fname + " Lastname is " + data.lname + " and id is " + data.id + "<br />");
					}
				});
		
			});
		});


		</script> 

	</body>
</html>